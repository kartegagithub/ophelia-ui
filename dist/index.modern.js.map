{"version":3,"file":"index.modern.js","sources":["../src/Diagnostic/SystemLog.tsx","../src/Metrics/AnalyticsList.tsx","../src/Localization/Region_EN.tsx","../src/Localization/Region_TR.tsx","../src/Localization/RegionSetting.tsx","../src/Extensions/StringExtensions.tsx","../src/Extensions/ReflectionExtensions.tsx","../src/Service/endpoint.tsx","../src/Service/apiService.tsx","../src/AppClient.tsx","../src/index.tsx"],"sourcesContent":["export default class SystemLog {\r\n  Enabled: boolean = true;\r\n  OriginalLog = (message?: any, ...optionalParams: any[]) => {};\r\n  OriginalWarning = (message?: any, ...optionalParams: any[]) => {};\r\n  OriginalError = (message?: any, ...optionalParams: any[]) => {};\r\n  OriginalInfo = (message?: any, ...optionalParams: any[]) => {};\r\n  OriginalDebug = (message?: any, ...optionalParams: any[]) => {};\r\n\r\n  log = (message?: any, ...optionalParams: any[]) => {\r\n    if (!this.Enabled) return this;\r\n    if (this.OriginalLog != null) this.OriginalLog(message, optionalParams);\r\n    return this;\r\n  };\r\n\r\n  warn = (message?: any, ...optionalParams: any[]) => {\r\n    if (!this.Enabled) return this;\r\n\r\n    if (this.OriginalWarning != null)\r\n      this.OriginalWarning(message, optionalParams);\r\n    return this;\r\n  };\r\n\r\n  error = (message?: any, ...optionalParams: any[]) => {\r\n    if (!this.Enabled) return this;\r\n\r\n    if (this.OriginalError != null) this.OriginalError(message, optionalParams);\r\n    return this;\r\n  };\r\n\r\n  info = (message?: any, ...optionalParams: any[]) => {\r\n    if (!this.Enabled) return this;\r\n\r\n    if (this.OriginalInfo != null) this.OriginalInfo(message, optionalParams);\r\n    return this;\r\n  };\r\n\r\n  debug = (message?: any, ...optionalParams: any[]) => {\r\n    if (!this.Enabled) return this;\r\n\r\n    if (this.OriginalDebug != null) this.OriginalDebug(message, optionalParams);\r\n    return this;\r\n  };\r\n  constructor() {\r\n    // if(console){\r\n    //   this.OriginalLog = console.log;\r\n    //   this.OriginalWarning = console.warn;\r\n    //   this.OriginalError = console.error;\r\n    //   this.OriginalInfo = console.info;\r\n    //   this.OriginalDebug = console.debug;\r\n    // }\r\n    \r\n    // console.log = this.log;\r\n    // console.warn = this.warn;\r\n    // console.error = this.error;\r\n    // console.debug = this.debug;\r\n    // console.info = this.info;\r\n  }\r\n  enable = () => {\r\n    this.Enabled = true;\r\n  };\r\n\r\n  disable = () => {\r\n    this.Enabled = false;\r\n  };\r\n}\r\n","import IAnalytics from \"./IAnalytics\";\r\n\r\nexport default class AnalyticsList{\r\n    InnerList: Array<IAnalytics> = new Array<IAnalytics>();\r\n\r\n    push(item: IAnalytics) {\r\n        this.Add(item);\r\n    }\r\n    Add(item: IAnalytics) {\r\n        this.InnerList.push(item);\r\n    }\r\n\r\n    ReportEvent(eventType: string, data: any){\r\n        this.InnerList.forEach((item) => {\r\n            item.ReportEvent(eventType, data);\r\n        });\r\n    }\r\n}","import { RegionSetting } from \"./RegionSetting\";\r\n\r\nexport const Region_EN: RegionSetting = {\r\n    Code: \"en\",\r\n    Tag: \"en_US\",\r\n    DateFormat: {\r\n        FirstDayOfWeek: \"Sunday\",\r\n        LongDateFormat: \"MM/DD/YYYY HH:mm\",\r\n        ShortDateFormat: \"MM/DD/YYYY\",\r\n        TimeFormat: \"HH:mm\",\r\n        WeekFormat: \"WW\",\r\n        MonthFormat: \"MMMM\",\r\n    },\r\n    NumberFormat: {\r\n        DecimalSeperator: \".\",\r\n        ThousandGrouper: \",\"\r\n    },\r\n    Currency: {\r\n        Symbol: \"$\"\r\n    },\r\n    Translations: null\r\n}","import { RegionSetting } from \"./RegionSetting\";\r\n\r\nexport const Region_TR: RegionSetting = {\r\n    Code: \"tr\",\r\n    Tag: \"en_TR\",\r\n    DateFormat: {\r\n        FirstDayOfWeek: \"Monday\",\r\n        LongDateFormat: \"DD.MM.YYYY HH:mm\",\r\n        ShortDateFormat: \"DD.MM.YYYY\",\r\n        TimeFormat: \"HH:mm\",\r\n        WeekFormat: \"WW\",\r\n        MonthFormat: \"MMMM\",\r\n    },\r\n    NumberFormat: {\r\n        DecimalSeperator: \",\",\r\n        ThousandGrouper: \".\"\r\n    },\r\n    Currency: {\r\n        Symbol: \"â‚º\"\r\n    },\r\n    Translations: null\r\n}","import { Region_EN } from \"./Region_EN\"\r\nimport { Region_TR } from \"./Region_TR\"\r\n\r\nvar RegionSettingTypeDef: {\r\n    Code: string,\r\n    Tag: string,\r\n    DateFormat?: {\r\n        ShortDateFormat?: string,\r\n        LongDateFormat?: string,\r\n        TimeFormat?: string,\r\n        WeekFormat?: string,\r\n        MonthFormat?: string,\r\n        FirstDayOfWeek?: \"Monday\" | \"Sunday\"\r\n    },\r\n    NumberFormat?: {\r\n        DecimalSeperator?: \".\" | \",\",\r\n        ThousandGrouper?: \".\" | \",\"\r\n    },\r\n    Currency?: {\r\n        Symbol?: string\r\n    }\r\n    Translations: any\r\n}\r\n\r\nexport type RegionSetting = typeof RegionSettingTypeDef\r\n\r\nlet currentRegion = \"en\"\r\nlet registeredRegions: any = {}\r\n\r\nexport function registerRegionSetting(code: string, setting: RegionSetting){\r\n    code = code.toLocaleLowerCase();\r\n    registeredRegions[code] = setting;\r\n}\r\nexport function getRegionSetting(code: string): RegionSetting | undefined{\r\n    code = code.toLocaleLowerCase();\r\n    if(registeredRegions[code]) return registeredRegions[code];\r\n    return undefined;\r\n}\r\nexport function getCurrentRegionSetting(): RegionSetting | undefined{\r\n    return getRegionSetting(currentRegion.toLocaleLowerCase());\r\n}\r\nexport function changeRegion(code: string){\r\n    currentRegion = code.toLocaleLowerCase()\r\n}\r\n\r\nregisterRegionSetting(\"EN\", Region_EN)\r\nregisterRegionSetting(\"TR\", Region_TR)\r\nchangeRegion(\"EN\")","import moment, { MomentFormatSpecification } from 'moment'\r\nimport { getCurrentRegionSetting, getRegionSetting } from '../Localization/RegionSetting';\r\nimport { functionExists } from './ReflectionExtensions';\r\n\r\nexport function capitalizeFirstLetter(value: string) {\r\n  return value.charAt(0).toUpperCase() + value.slice(1);\r\n}\r\n\r\nexport function shortenText(\r\n  text: string,\r\n  length: number,\r\n  hyphenActive: boolean\r\n) {\r\n  if (length && text?.length >= length) {\r\n    return text.substring(0, length) + \"...\";\r\n  }\r\n\r\n  return text ? text : hyphenActive ? \"-\" : \"\";\r\n}\r\n\r\nexport function validateEmail(email?: string) {\r\n  if(!email) return false;\r\n\r\n  const re =\r\n    /^(([^<>()\\\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\nexport function camelize(str?: string) {\r\n  if(!str) return \"\";\r\n  return str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function(word, index) {\r\n    return index === 0 ? word.toLowerCase() : word.toUpperCase();\r\n  }).replace(/\\s+/g, '');\r\n}\r\nexport function pascalize(str?: string) {\r\n  if(!str) return \"\";\r\n  return str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function(word, index) {\r\n    return index === 0 ? word.toUpperCase() : word.toUpperCase();\r\n  }).replace(/\\s+/g, '');\r\n}\r\n\r\nexport function removeLastPropName(str?: string, replaceBy: string = \"\", keepHierarchy: boolean = false) {\r\n  if(!str) return \"\";\r\n  if(str.indexOf(\".\") == -1) return str;\r\n  var splitted = str.split(\".\")\r\n\r\n  var newStr = \"\";\r\n  for (let index = 0; index < splitted.length - 1; index++) {\r\n    const element = splitted[index];\r\n    if(!keepHierarchy) newStr = element;\r\n    else newStr += (index > 0? \".\": \"\") + element;\r\n  }\r\n  if(replaceBy) return newStr + replaceBy;\r\n  return newStr;\r\n}\r\n\r\nexport function replaceQueryParam(param: string, value: string, url?: string){\r\n  var searchParams = \"\";\r\n  if(!url){\r\n    url = document.location.pathname;\r\n    searchParams = document.location.search\r\n  } \r\n  else if(url.indexOf(\"?\") > -1){\r\n    searchParams = url.substring(url.indexOf(\"?\"), url.length)\r\n    url = url.replace(searchParams, \"\")\r\n  }\r\n  var params = new URLSearchParams(searchParams);\r\n  if(!value || value == \"\") params.delete(param)\r\n  else params.set(param, value);\r\n\r\n  searchParams = params.toString().replaceAll(\"%2C\", \",\").replaceAll(\"%5B\", \"[\").replaceAll(\"%5D\", \"]\");\r\n  return url + \"?\" + searchParams;\r\n}\r\n\r\nexport function getQueryParam(param: string, defaultValue: any, url?: string){\r\n  var searchParams = \"\";\r\n  if(!url){\r\n    searchParams = document.location.search\r\n  } \r\n  else if(url.indexOf(\"?\")){\r\n    searchParams = url.substring(url.indexOf(\"?\"), url.length)\r\n  }\r\n  var params = new URLSearchParams(searchParams);\r\n  return params.get(param) ?? defaultValue;\r\n}\r\n\r\nexport function queryParamsAsObject(key: string, removeKey: boolean = false, url?: string){\r\n  var searchParams = \"\";\r\n  if(!url){\r\n    searchParams = document.location.search\r\n  } \r\n  else if(url.indexOf(\"?\")){\r\n    searchParams = url.substring(url.indexOf(\"?\"), url.length)\r\n  }\r\n  var params = new URLSearchParams(searchParams);\r\n  var returnValues: any = {}\r\n  for (let [item, value] of Array.from(params.entries())) {\r\n    if(item.indexOf(key) > -1){\r\n      var tmpKey = removeKey? item.replace(key, \"\"): key;\r\n      returnValues[tmpKey] = value\r\n      if(value){\r\n        if(value.startsWith(\"[\") && value.endsWith(\"]\")){\r\n          var arr: Array<any> = JSON.parse(value)\r\n          if(arr && arr.length > 0) returnValues[tmpKey] = JSON.parse(value)\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return returnValues;\r\n}\r\n\r\nexport function isValidDate(value?: string){\r\n  if(!value) return false;\r\n  if(functionExists(value, \"indexOf\") && value.indexOf(\" \") == -1 && value.indexOf(\".\") == -1 && value.indexOf(\"/\") == -1 && value.indexOf(\"-\") == -1) return false;\r\n  if(typeof value === \"object\") return false;\r\n  if(isNumeric(value)) return false;\r\n  return moment(value).isValid() \r\n}\r\nexport function convertToDate(value?: string){\r\n  if(!value) return moment(new Date());\r\n  var setting = getCurrentRegionSetting();\r\n  moment.locale(setting?.Code.toLowerCase())\r\n  return moment(value) \r\n}\r\n\r\nexport function getFormattedDateString(value?: string, toFormat?: string, type: \"month\" | \"week\" | \"date\" | \"time\" | \"datetime\" | undefined | string = \"datetime\"){\r\n  var setting = getCurrentRegionSetting();\r\n  moment.locale(setting?.Code.toLowerCase())\r\n\r\n  var date = convertToDate(value);\r\n  if(!toFormat) {\r\n    if(type === \"date\" && setting?.DateFormat?.ShortDateFormat) toFormat = setting?.DateFormat?.ShortDateFormat\r\n    if(type === \"datetime\" && setting?.DateFormat?.LongDateFormat) toFormat = setting?.DateFormat?.LongDateFormat\r\n    if(type === \"month\" && setting?.DateFormat?.MonthFormat) toFormat = setting?.DateFormat?.MonthFormat\r\n    if(type === \"time\" && setting?.DateFormat?.TimeFormat) toFormat = setting?.DateFormat?.TimeFormat\r\n    if(type === \"week\" && setting?.DateFormat?.WeekFormat) toFormat = setting?.DateFormat?.WeekFormat\r\n  }\r\n  if(!toFormat) toFormat = \"MM/DD/YYYY\"\r\n  return moment(date).format(toFormat)\r\n}\r\n\r\nexport function isNumeric(str: string) {\r\n  if(!str || str == \"\") return false;\r\n  const re = /^\\d*(\\.\\d+)?$/\r\n  return re.test(str)\r\n}\r\n\r\nexport function parseFloatIfCan(str: string) {\r\n  if(isNumeric(str)) return parseFloat(str)\r\n  return -1;\r\n}\r\n\r\nexport function formatString(str: string, ...params: Array<string | number>): string {\r\n  if(!params || params.length == 0) return str;\r\n  for (var i = 0; i < params.length; i++) {\r\n      var reg = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"gm\");\r\n      str = str.replace(reg, params[i].toString());\r\n  }\r\n  return str;\r\n};\r\n\r\nexport function padLeft(val?: string, count?: number, seperator?: string): string {\r\n  val = val ?? \"\";\r\n  count = count ?? 1;\r\n  seperator = seperator ?? \" \";\r\n  seperator = seperator + \"\";\r\n  var val2 = val;\r\n  for (var i = val.length; i < count; i++) {\r\n    val2 = seperator + \"\" + val2;\r\n  }\r\n  return val2 as string;\r\n}\r\n\r\nexport function toJson(val?: string): any {\r\n  if(!val) return {}\r\n  return JSON.parse(val as string);\r\n};\r\n\r\nexport function clone(val?: any): any {\r\n  if(!val) return {}\r\n  return JSON.parse(JSON.stringify(val));\r\n};\r\n\r\nexport function trimChars(val?: string, c?: string): string {\r\n  if(!val) return \"\";\r\n  var re = new RegExp(\"^[\" + c + \"]+|[\" + c + \"]+$\", \"g\");\r\n  return val.replace(re, \"\");\r\n}\r\n\r\nexport function replaceLowerTRChars(val?: string): string {\r\n  if(!val) return \"\";\r\n  return val.replaceAll(\"Ä±\", \"i\")\r\n    .replaceAll(\"ÅŸ\", \"s\")\r\n    .replaceAll(\"ÄŸ\", \"g\")\r\n    .replaceAll(\"Ã¼\", \"u\")\r\n    .replaceAll(\"Ã¶\", \"o\")\r\n    .replaceAll(\"Ã§\", \"c\");\r\n};\r\n\r\nexport function replaceUpperTRChars(val?: string): string {\r\n  if(!val) return \"\";\r\n  return val.replaceAll(\"Ä°\", \"I\")\r\n    .replaceAll(\"Åž\", \"S\")\r\n    .replaceAll(\"Äž\", \"G\")\r\n    .replaceAll(\"Ãœ\", \"U\")\r\n    .replaceAll(\"Ã–\", \"O\")\r\n    .replaceAll(\"Ã‡\", \"C\");\r\n}\r\n\r\nexport function toSlug(val?: string): string {\r\n  if(!val) return \"\";\r\n  var $slug = \"\";\r\n  var trimmed = replaceLowerTRChars(val.trim().toLowerCase());\r\n  $slug = trimmed\r\n    .replace(/[^a-z0-9-]/gi, \"-\")\r\n    .replace(/-+/g, \"-\")\r\n    .replace(/^-|-$/g, \"\");\r\n  return $slug;\r\n}\r\n\r\nexport function cleanLineFeeds(val?: string) {\r\n  if(!val) return \"\";\r\n  return val.replace(/(\\r\\n|\\n|\\r)/gm, \"\")\r\n}\r\nexport function cleanSpaces(val?: string) {\r\n  if(!val) return \"\";\r\n  return val.replace(/^\\s+|\\s+$/g, \"\");\r\n}\r\nexport function urlMatch(url1?: string, url2?: string) {\r\n  if(!url1 || !url2) return false;\r\n  \r\n  var index1 = url1.indexOf(\"?\") ?? -1;\r\n  var index2 = url2.indexOf(\"?\") ?? -1;\r\n  if(index1 != index2) return false;\r\n\r\n  var left = url1;\r\n  var right = url2;\r\n  if(index1 > -1) left = url1.substring(0, index1);\r\n  if(index2 > -1) right = url2.substring(0, index2);\r\n  return left == right\r\n}\r\n\r\nexport function isNullOrEmpty(val?: any){\r\n  if(isNaN(val) || val == undefined || val == null || val == \"\") return true;\r\n  return false;\r\n}","import React, { Children } from \"react\";\r\nimport { isNumeric } from \"./StringExtensions\";\r\n\r\nexport function getKeyByValue(object: any, value: any) {\r\n    return Object.keys(object).find((key) => object[key] === value);\r\n};\r\nexport function getQueryString(object?: any, url: string = \"\", disableCache: boolean = false) {    \r\n    var keys = \"\";\r\n    if(object){\r\n      keys = Object.keys(object)\r\n      .map((key) => {\r\n        if (!object[key]) return \"\";\r\n        return encodeURIComponent(key) + \"=\" + encodeURIComponent(object[key]);\r\n      })\r\n      .join(\"&\");\r\n    }\r\n    var cacheKey = \"\";\r\n    if(disableCache)\r\n      cacheKey= \"&_=\" + randomId() + randomId()\r\n    if(url) {\r\n        if(url.indexOf(\"?\") === -1)\r\n            return `${url}?${keys}${cacheKey}`\r\n        else\r\n            return `${url}&${keys}${cacheKey}`\r\n    }\r\n    return `${keys}${cacheKey}`;\r\n};\r\nexport const randomId = () => {\r\n  return Math.random().toString(36).substring(2, 100);\r\n};\r\n\r\nexport const typeCheck = (element: any, typesToCheck: string[]) => {\r\n  var elementType = typeof element\r\n  var {type} = element\r\n  if(type && type.displayName)\r\n    elementType = type.displayName\r\n  else if(type && type.name)\r\n    elementType = type.name\r\n\r\n  if(typesToCheck && typesToCheck.length > 0)\r\n    return  typesToCheck.indexOf(elementType) > -1;\r\n  return false;\r\n}\r\n\r\nexport const deepMap = (children: any, types: string[]): Array<any> => {\r\n  var result: Array<any> = []\r\n  if(!children)\r\n    return result;\r\n\r\n  Children.forEach(children, (child) => {\r\n    if (child === null) return null;\r\n\r\n    if (typeCheck(child, types)) {\r\n      result.push(child);\r\n    }\r\n\r\n    if (\r\n      child.props &&\r\n      child.props.children &&\r\n      typeof child.props.children === 'object'\r\n    ) {\r\n      result = result.concat(deepMap(child.props.children, types))\r\n    }\r\n    return null\r\n  });\r\n  return result;\r\n}\r\n\r\nexport const getReferencePath = (propName?: string) => {\r\n  if (!propName) return propName\r\n\r\n  if(propName.indexOf(\".\") > -1){\r\n    var names = propName.split(\".\");\r\n    var tmpNames = \"\";\r\n    for (let index = 0; index < names.length - 1; index++) {\r\n      const indexedName = names[index];\r\n      if(index > 0) tmpNames += \".\";\r\n      tmpNames += indexedName\r\n    }\r\n    return tmpNames;\r\n  }\r\n  return propName;\r\n}\r\n\r\nexport const getObjectValue = (obj: any, propName?: string, defaultValue: any = \"\") => {\r\n  if (!propName || !obj) return defaultValue\r\n\r\n  var value: any = defaultValue;\r\n  if(propName.indexOf(\".\") > -1){\r\n    var names = propName.split(\".\");\r\n    var tmpObj = obj\r\n    for (let index = 0; index < names.length - 1; index++) {\r\n      const indexedName = names[index];\r\n      if(tmpObj[indexedName]) tmpObj = tmpObj[indexedName];\r\n    }\r\n    if(tmpObj && tmpObj != obj) value = tmpObj[names[names.length - 1]]\r\n  }\r\n  else value = obj[propName];\r\n  return value ?? defaultValue;\r\n}\r\n\r\nexport const setObjectValue = (obj: any, propName?: string, value?: any) => {\r\n  if (!propName || !obj) return\r\n\r\n  if(propName.indexOf(\".\") > -1){\r\n    var names = propName.split(\".\");\r\n    var tmpObj = obj\r\n    for (let index = 0; index < names.length - 1; index++) {\r\n      const indexedName = names[index];\r\n      if(!tmpObj[indexedName]) tmpObj[indexedName] = {}\r\n      tmpObj = tmpObj[indexedName];\r\n    }\r\n    if(tmpObj) tmpObj[names[names.length - 1]] = value\r\n  }\r\n  else obj[propName] = value;\r\n}\r\n\r\nexport function functionExists(obj?: any, funcName?: string){\r\n  if(!obj || !funcName) return false;\r\n  return typeof obj[\"indexOf\"] === \"function\"\r\n}\r\n\r\nexport function execInTry(fn: Function, catchFn: ((error: any) => void)){\r\n  try {\r\n    return fn()\r\n  } catch (error) {\r\n    catchFn(error)\r\n  }\r\n  return undefined;\r\n}\r\n\r\nexport const removeEmptyProps = (obj: any) => {\r\n  Object.keys(obj).forEach((key) => {\r\n    if (typeof obj[key] === \"object\") removeEmptyProps(obj[key])\r\n    else if (obj[key] === undefined) delete obj[key]\r\n  });\r\n  return obj;\r\n};\r\n\r\nexport const enumToArray = (type: any, translateFn?: (key: string) => string | undefined) => {\r\n  return Object.keys(type).filter((key) => !isNumeric(key)).map((key) => {\r\n    var text: string = key;\r\n    if(translateFn) text = translateFn(key) ?? key\r\n    return  {\r\n      value: type[key], \r\n      text: text}\r\n  });\r\n}","import { randomId } from \"../Extensions/ReflectionExtensions\"\r\nimport APIService from \"./apiService\";\r\nimport ServiceResult from \"./serviceResult\";\r\n\r\nexport default class Endpoint{\r\n    Service: APIService\r\n    URL: string = \"\"\r\n    Options: EndpointOptions = new EndpointOptions()\r\n    Status: ServiceStatus = ServiceStatus.NotInitialized;\r\n    RetreivedFromCache?: boolean = false\r\n    RequestID: string = \"\"\r\n    Data: any = {}\r\n\r\n    call(): Promise<ServiceResult> {\r\n        return this.Service.invokeEndpoint(this);\r\n    }\r\n\r\n    constructor(service: APIService, url: string, options?: EndpointOptions) {\r\n        this.Service = service\r\n        this.URL = url\r\n        if(!this.Options) this.Options = new EndpointOptions()\r\n        this.Options = {...this.Options, ...options}\r\n        this.RequestID = randomId() + randomId()\r\n    }\r\n}\r\n\r\nexport class EndpointOptions{\r\n    Parameters?: any = undefined\r\n    Payload?: any = undefined\r\n    Method?: RequestMethod = RequestMethod.POST\r\n    ContentType?: string = \"application/json\"\r\n    CanBeCached?: boolean = false\r\n    CacheDuration?: number = 0\r\n    Headers?: Record<string, any> = []\r\n    ValidateCache?: Function = undefined\r\n    toString? = (apiURL: string) => {\r\n        return `${apiURL}_${this.Method}_${JSON.stringify(this.Parameters)}`\r\n    }\r\n}\r\n\r\nexport enum ServiceStatus {\r\n    Success = \"success\",\r\n    NotModified = \"notmodified\",\r\n    Error = \"error\",\r\n    Timeout = \"timeout\",\r\n    Abort = \"abort\",\r\n    ParseError = \"parserror\",\r\n    Unknown = \"unknown\",\r\n    NotInitialized = \"\",\r\n    Fetching = \"\"\r\n}\r\n\r\nexport enum RequestMethod {\r\n    GET = \"GET\",\r\n    POST = \"POST\",\r\n    PATCH = \"PATCH\",\r\n    PUT = \"PUT\",\r\n    HEAD = \"HEAD\",\r\n    TRACE = \"TRACE\",\r\n    OPTIONS = \"OPTIONS\",\r\n    CONNECT = \"CONNECT\",\r\n    DELETE = \"DELETE\"\r\n}","import { getQueryString } from \"../Extensions/ReflectionExtensions\";\r\nimport AppClient from \"../AppClient\";\r\nimport Endpoint, { EndpointOptions, ServiceStatus } from \"./endpoint\";\r\nimport ServiceResult from \"./serviceResult\";\r\nimport { convertToDate } from \"../Extensions/StringExtensions\";\r\n\r\nexport default class APIService {\r\n  RootURL:string = \"\"\r\n  Client?: AppClient\r\n\r\n  constructor(client?: AppClient) {\r\n    this.Client = client\r\n  }\r\n  \r\n  getURL(url: string) {\r\n    if (url.startsWith(\"http\")) return url;\r\n    if(!this.RootURL.endsWith('/')) this.RootURL += \"/\";\r\n    if(url.startsWith('/')) url = url.substring(1, url.length)\r\n    return (this.RootURL + url);\r\n  }\r\n\r\n  async invokeEndpoint(endpoint: Endpoint) : Promise<any>{\r\n    this.OnBeforeRequest(endpoint)\r\n    endpoint.Status = ServiceStatus.Fetching\r\n    \r\n    var options: RequestInit = {\r\n      body: endpoint.Options.Payload? JSON.stringify(endpoint.Options.Payload): null,\r\n      cache: \"no-cache\",\r\n      headers: endpoint.Options.Headers,\r\n      credentials: \"same-origin\",\r\n      method: endpoint.Options.Method\r\n    }\r\n    options = {...options, ...this.GetRequestOptions(endpoint)}\r\n\r\n    var url = getQueryString(endpoint.Options.Parameters, endpoint.URL);\r\n    var fetcher = fetch(url, options).then((res) => {\r\n      return res.json()\r\n    }).catch((reason) => {\r\n      console.error(url, reason)\r\n      endpoint.Status = ServiceStatus.Error\r\n      this.OnErrorResponse(endpoint, reason)\r\n    });\r\n\r\n    var data = await fetcher;\r\n    endpoint.Status = ServiceStatus.Success\r\n    endpoint.Data = data;\r\n    this.onAfterResponse(endpoint, data)\r\n    return data\r\n  }\r\n\r\n  GetRequestOptions(endpoint: Endpoint): RequestInit {\r\n    return {}\r\n  }\r\n  CreateEndpoint(api: string, options?: EndpointOptions): Endpoint {\r\n    return new Endpoint(this, api, options);\r\n  }\r\n\r\n  CallEndpoint(api: string, options?: EndpointOptions): Promise<ServiceResult> {\r\n    return new Endpoint(this, api, options).call();\r\n  }\r\n\r\n  OnBeforeRequest(endpoint: Endpoint) {\r\n\r\n  }\r\n\r\n  onAfterResponse(endpoint: Endpoint, data: any) {\r\n      \r\n  }\r\n\r\n  OnErrorResponse(endpoint: Endpoint, reason: any) {\r\n    \r\n  }\r\n\r\n  AddToCache(endpoint: Endpoint, val: string) {\r\n    if (this.Client && endpoint.Data && endpoint.Options.CanBeCached && endpoint.Options.CacheDuration && endpoint.Options.CacheDuration > 0) {\r\n        try {\r\n            if (endpoint.Options.ValidateCache == null || endpoint.Options.ValidateCache(val)) {\r\n              if(!this.Client.AppData.Cache)\r\n                this.Client.AppData.Cache = {}\r\n              if(endpoint.Options.toString){\r\n                var optionKey = endpoint.Options.toString(endpoint.URL);\r\n                this.Client.AppData.Cache[optionKey] = { Data: endpoint.Data, DateCreated: new Date() };\r\n              }\r\n            }\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n  }\r\n\r\n  GetFromCache(endpoint: Endpoint): boolean {\r\n      if (this.Client && endpoint.Options.CanBeCached && endpoint.Options.CacheDuration && endpoint.Options.toString) {\r\n          try {\r\n              if(!this.Client.AppData.Cache)\r\n                this.Client.AppData.Cache = {}\r\n\r\n              var optionKey = endpoint.Options.toString(endpoint.URL);\r\n              if (this.Client.AppData.Cache.hasOwnProperty(optionKey)) {\r\n                  var data = this.Client.AppData.Cache[optionKey];\r\n                  if(!data)\r\n                    return false;\r\n\r\n                  var cacheDate = convertToDate(data.DateCreated as string)\r\n                  if (cacheDate.milliseconds() + endpoint.Options.CacheDuration * 60 * 1000 > Date.now()) {\r\n                      endpoint.Data = data.Data\r\n                      endpoint.Status = ServiceStatus.Success;\r\n                      endpoint.RetreivedFromCache = true;\r\n                      return true\r\n                  }\r\n                  this.RemoveFromCache(optionKey)\r\n              }\r\n          } catch (e) {\r\n              console.error(e)\r\n          }\r\n      }\r\n      return false\r\n  }\r\n  RemoveFromCache(key: string) {\r\n    if (this.Client){\r\n      if(!this.Client.AppData.Cache)\r\n        this.Client.AppData.Cache = {}\r\n\r\n      delete this.Client.AppData.Cache[key];\r\n    }\r\n  }\r\n}\r\n","import { NextPageContext } from \"next\";\r\nimport SystemLog from \"./Diagnostic/SystemLog\";\r\nimport AnalyticsList from \"./Metrics/AnalyticsList\";\r\nimport IAnalytics from \"./Metrics/IAnalytics\";\r\nimport APIService from \"./Service/apiService\";\r\nimport { AppTheme } from \"./AppTheme\";\r\nimport { changeRegion } from \"./Localization/RegionSetting\";\r\n\r\nexport default class AppClient {\r\n  Region: string = \"EN\"\r\n  AppData: any\r\n  Logger: SystemLog = new SystemLog();\r\n  Analytics: AnalyticsList = new AnalyticsList();\r\n  IsClientSide: boolean = false\r\n  Context?: NextPageContext\r\n  Theme?: AppTheme\r\n  DynamicSEO?: any = {}\r\n  Hydrate() {\r\n\r\n  }\r\n  ChangeUserRegion = (code?: string) => {\r\n    if(!code) code = this.Region\r\n    if(!code) return;\r\n    this.Region = code;\r\n    changeRegion(code)\r\n  }\r\n  Translate(key?: string) {\r\n    return key;\r\n  }\r\n\r\n  CreateService (): APIService {\r\n    return new APIService();\r\n  }\r\n  RegisterAnalytics = (analytic: IAnalytics) => {\r\n    this.Analytics.push(analytic);\r\n  }\r\n  UpdateMetaTags = () => {\r\n    if(!this.DynamicSEO) return\r\n    var seo = this.DynamicSEO;\r\n    var head = document.getElementsByTagName(\"head\")[0]\r\n\r\n    var titleTag = head.getElementsByTagName(\"title\")[0]\r\n    if(!titleTag) head.append(\"<title></title>\")\r\n    if(seo.Title) head.getElementsByTagName(\"title\")[0].innerHTML = seo.Title\r\n\r\n    var metaTags = head.getElementsByTagName(\"meta\")\r\n    for (let index = 0; index < metaTags.length; index++) {\r\n      const element = metaTags[index] as HTMLMetaElement;\r\n      if(seo.Description && element.name === \"description\") element.content = seo.Description\r\n      if(seo.Custom){\r\n        seo.Custom.map((item: any) => {\r\n            if(item.Name == element.name) element.content = item.Description\r\n        })\r\n      }\r\n    }\r\n    \r\n  }\r\n  constructor(){\r\n    this.IsClientSide = global.window !== undefined;\r\n  }\r\n}","import AppClient from \"./AppClient\"\r\n\r\nexport const createAppClient = () => {\r\n    return new AppClient()\r\n}"],"names":["SystemLog","message","_this","Enabled","_len","arguments","length","optionalParams","Array","_key","OriginalLog","_len2","_key2","OriginalWarning","_len3","_key3","OriginalError","_len4","_key4","OriginalInfo","_len5","_key5","OriginalDebug","AnalyticsList","_proto","prototype","push","item","Add","InnerList","ReportEvent","eventType","data","forEach","Region_EN","Code","Tag","DateFormat","FirstDayOfWeek","LongDateFormat","ShortDateFormat","TimeFormat","WeekFormat","MonthFormat","NumberFormat","DecimalSeperator","ThousandGrouper","Currency","Symbol","Translations","Region_TR","currentRegion","registeredRegions","registerRegionSetting","code","setting","toLocaleLowerCase","getRegionSetting","undefined","getCurrentRegionSetting","changeRegion","convertToDate","value","moment","Date","locale","toLowerCase","getQueryString","object","url","disableCache","keys","Object","map","key","encodeURIComponent","join","cacheKey","randomId","indexOf","Math","random","toString","substring","Endpoint","service","options","EndpointOptions","ServiceStatus","NotInitialized","Service","URL","Options","_extends","RequestID","call","invokeEndpoint","RequestMethod","POST","apiURL","Method","JSON","stringify","Parameters","APIService","client","Client","getURL","startsWith","RootURL","endsWith","endpoint","OnBeforeRequest","Status","Fetching","body","Payload","cache","headers","Headers","credentials","method","GetRequestOptions","fetcher","fetch","then","res","json","reason","console","error","Error","OnErrorResponse","Promise","resolve","Success","Data","onAfterResponse","e","reject","CreateEndpoint","api","CallEndpoint","AddToCache","val","CanBeCached","CacheDuration","ValidateCache","AppData","Cache","optionKey","DateCreated","GetFromCache","hasOwnProperty","cacheDate","milliseconds","now","RetreivedFromCache","RemoveFromCache","AppClient","Region","analytic","Analytics","DynamicSEO","seo","head","document","getElementsByTagName","titleTag","append","Title","innerHTML","metaTags","_loop","element","index","Description","name","content","Custom","Name","IsClientSide","global","window","Hydrate","Translate","CreateService","createAppClient"],"mappings":"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"}